/* ===============================
   Base sizing & focus
   =============================== */
html { font-size: 14px; position: relative; min-height: 100%; }
@media (min-width: 768px){ html { font-size: 16px; } }

body { line-height: 1.6; }

.btn:focus,
.btn:active:focus,
.btn-link.nav-link:focus,
.form-control:focus,
.form-check-input:focus {
  box-shadow: 0 0 0 0.1rem white, 0 0 0 0.25rem #258cfb;
}

/* ===============================
   Footer tweaks
   =============================== */
footer .link-body-emphasis:hover { text-decoration: underline; }
footer .bi { vertical-align: -0.125em; }

/* ===============================
   AubgEMS Light Theme (Bootstrap 5 overrides)
   =============================== */
:root{
  /* Brand */
  --bs-primary: #1e3a8a;          /* indigo 800 */
  --bs-primary-rgb: 30,58,138;
  --bs-link-color: var(--bs-primary);
  --bs-link-hover-color: #2563eb; /* blue 600 */

  --bs-secondary: #64748b;        /* slate 500 */
  --bs-secondary-rgb: 100,116,139;

  /* Semantic */
  --bs-success: #16a34a;
  --bs-info:    #0ea5e9;
  --bs-warning: #f59e0b;
  --bs-danger:  #ef4444;

  /* Typography & radii */
  --bs-body-font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";
  --bs-body-color: #0f172a; /* slate 900 */
  --bs-body-bg: #ffffff;
  --bs-border-radius: .75rem;
  --bs-border-radius-lg: 1rem;
}

/* ===============================
   Page headers / rhythm
   =============================== */
.page-title { margin-bottom: .25rem; }
.page-subtitle { color: var(--bs-secondary); margin-bottom: 1.25rem; }
.section { margin-top: 1.5rem; margin-bottom: 1.5rem; }

/* ===============================
   Navbar
   =============================== */
.navbar .nav-link{
  display: inline-flex;
  align-items: center;
  gap: .35rem;
  padding: .6rem .7rem;
}
.navbar .nav-link i { font-size: 1rem; line-height: 1; }
@media (max-width: 576px){
  .navbar .nav-link { padding: .5rem .4rem; }
  .navbar-brand { font-weight: 600; }
}

/* Animated single underline (no old border-bottom) */
.navbar .nav-link.active { border-bottom: 0 !important; }

.nav-underline .nav-link{ position: relative; transition: color .15s ease; }
.nav-underline .nav-link::after{
  content:""; position:absolute; left:0; right:0; bottom:-.4rem;
  height:2px; background: var(--bs-primary);
  transform: scaleX(0); transform-origin:left; transition: transform .18s ease;
  border-radius:2px;
}
.nav-underline .nav-link.active::after,
.nav-underline .nav-link:hover::after{ transform: scaleX(1); }

/* Base: solid white */
.navbar-glass{
  background: #ffffff;
  transition: background-color .25s ease, box-shadow .25s ease, backdrop-filter .25s ease;
  backdrop-filter: none;
  -webkit-backdrop-filter: none;
  box-shadow: 0 2px 10px rgba(2,8,23,.04);
}

/* Scrolled: translucent + blur + stronger shadow */
.navbar-glass.is-scrolled{
  background: rgba(255,255,255,.72);
  backdrop-filter: saturate(160%) blur(12px);
  -webkit-backdrop-filter: saturate(160%) blur(12px);
  box-shadow: 0 8px 30px rgba(2,8,23,.12);
}

/* Keep it above content */
.navbar-glass.sticky-top { z-index: 1100; }

/* Navbar right-side controls */
.nav-search{
  width: 280px;
  height: 38px;
  border-radius: 999px;
  padding: .4rem .9rem;
}
@media (max-width: 992px){ .nav-search{ width: 100%; } }

.btn-compact{
  padding: .45rem .8rem;
  font-weight: 600;
}
.btn-compact .bi{ font-size: 1rem; line-height: 1; }
.btn-compact span{ white-space: nowrap; }

/* Off-canvas visibility */
.offcanvas .nav-underline .nav-link{ padding: .75rem 0; }
.offcanvas .nav-link { color: var(--bs-body-color) !important; }

/* ===============================
   Hero (Home)
   =============================== */
.hero{
  background: linear-gradient(135deg, var(--bs-primary) 0%, #3b82f6 100%);
  color: #fff;
  border-radius: var(--bs-border-radius);
}

/* ===============================
   Cards
   =============================== */
.card{
  border: 1px solid rgba(2,8,23,.06);
  border-radius: var(--bs-border-radius);
  box-shadow: 0 1px 2px rgba(2,8,23,.04);
}
.card-img-top{ object-fit: cover; max-height: 180px; }

.event-card{ transition: transform .12s ease, box-shadow .12s ease; }
.event-card:hover{ transform: translateY(-2px); box-shadow: 0 6px 20px rgba(2,8,23,.08); }

/* Whole-card clickable helper (used on Home news cards) */
.card-click{ cursor: pointer; transition: transform .12s ease, box-shadow .12s ease; display:block; }
.card-click:hover{ transform: translateY(-2px); box-shadow: 0 8px 20px rgba(2,8,23,.08); }

/* Round ONLY the top corners of the media on grid/news & event cards */
.news-card > .ratio:first-child,
.event-card > .ratio:first-child{
  border-radius: var(--bs-border-radius) var(--bs-border-radius) 0 0; /* TL TR BR BL */
  overflow: hidden; /* clip the image */
}

.event-card .stretched-link { cursor: pointer; }
.news-card  .stretched-link { cursor: pointer; }

.card > .card-img-top {
  border-radius: var(--bs-border-radius) var(--bs-border-radius) 0 0;
}

/* Keep images perfectly clipped + cover */
.news-card .ratio > img,
.event-card .ratio > img{
  display:block;
  width:100%;
  height:100%;
  object-fit:cover;
  border-radius:inherit;
}

/* ===============================
   Empty state
   =============================== */
.empty-state i { opacity:.8; }

/* ===============================
   Validation polish
   =============================== */
.validation-summary-errors{
  padding: .75rem 1rem;
  border: 1px solid var(--bs-danger-border-subtle, #f1aeb5);
  background: var(--bs-danger-bg-subtle, #f8d7da);
  color: var(--bs-danger-text-emphasis, #58151c);
  border-radius: .5rem;
  margin-bottom: 1rem;
}
.field-validation-error{ color: var(--bs-danger); font-size: .875rem; }
.input-validation-error{
  border-color: var(--bs-danger) !important;
  box-shadow: 0 0 0 .1rem rgba(220,53,69,.2);
}
label.required::after{ content: " *"; color: var(--bs-danger); margin-left: .125rem; }

/* ===============================
   News polish (list + details)
   =============================== */

/* Helpers */
.img-cover{ width:100%; height:100%; object-fit:cover; }
.img-placeholder{ width:100%; height:100%; background:#e5e7eb; border-radius:.5rem; }

/* Lead strip */
.news-lead{
  background:#f8fafc;
  border:1px solid rgba(2,8,23,.06);
  border-radius: var(--bs-border-radius-lg);
  padding: 1rem;
}
@media (min-width: 992px){ .news-lead{ padding: 1.25rem; } }
.news-lead .card{ border:0; box-shadow:none; background: transparent !important; }
.news-lead .ratio{ border-radius:.5rem; overflow:hidden; }
.news-lead .text-body-secondary{ max-width: 52ch; }
.news-lead .btn.btn-lg{ line-height: 1.2; }

/* Meta */
.news-meta{ font-size:.875rem; color: rgba(15,23,42,.70); }
.news-card .news-meta{ color: rgba(15,23,42,.65); }

/* Hover */
.news-card, .news-rail{ transition: transform .12s ease, box-shadow .12s ease; }
.news-card:hover, .news-rail:hover{ transform: translateY(-2px); box-shadow: 0 8px 20px rgba(2,8,23,.08); }

/* Title clamp */
.line-clamp-2{
  display:-webkit-box; -webkit-line-clamp:2; -webkit-box-orient:vertical;
  overflow:hidden;
}

/* Featured hero (index) */
.news-hero{ position:relative; overflow:hidden; border:0; color:#fff; }
.news-hero .ratio{ background-color:#0b1020; }
.news-hero .overlay{
  position:absolute; inset:0;
  background: linear-gradient(to top, rgba(2,8,23,.75) 0%, rgba(2,8,23,.35) 60%, transparent 100%);
}
.news-hero .news-meta{ color: rgba(255,255,255,.85) !important; }
.hero-title{ color:#fff; text-shadow:0 1px 2px rgba(0,0,0,.40); }

/* Section heading + lead size */
.news-section-title{
  font-weight: 800; letter-spacing: .02em; text-transform: uppercase;
  color: var(--bs-primary) !important; /* brand blue */
}
.lead-headline{
  font-size: clamp(1.6rem, 2.8vw, 2.25rem);
  line-height: 1.15; font-weight: 800; margin-bottom: .35rem;
}

/* Article typography (details) */
.news-body{ font-size: 1.05rem; line-height: 1.85; }
.news-body p{ margin-bottom: 1rem; }
.news-body h2, .news-body h3{ margin-top: 1.5rem; margin-bottom: .5rem; }
.news-body img{ max-width: 100%; height: auto; border-radius: .5rem; }

/* “More news” carousel arrows off-card */
#moreNews{ position: relative; overflow: visible; }
#moreNews .carousel-control-prev,
#moreNews .carousel-control-next{
  width: auto; opacity: .9;
}
#moreNews .carousel-control-prev{ left: -2.75rem; }
#moreNews .carousel-control-next{ right: -2.75rem; }
#moreNews .carousel-control-prev-icon,
#moreNews .carousel-control-next-icon{
  width: 2.25rem; height: 2.25rem;
  background-size: 100% 100%;
  background-color: rgba(15,23,42,.85);
  border-radius: 9999px;
  box-shadow: 0 2px 10px rgba(2,8,23,.15);
}
@media (max-width: 576px){
  #moreNews .carousel-control-prev{ left: .25rem; }
  #moreNews .carousel-control-next{ right: .25rem; }
}

/* Keep only our animated underline, disable Bootstrap's border version */
.nav-underline .nav-link{
  border-bottom: 0 !important;
  text-decoration: none !important;
}
.nav-underline .nav-link:hover,
.nav-underline .nav-link.active{
  border-bottom-color: transparent !important;
  text-decoration: none !important;
}

/* Height compensation for fixed navbar */
:root { --nav-h: 64px; }
@media (max-width: 992px){ :root { --nav-h: 60px; } }

/* Push page content below the fixed header */
body { padding-top: var(--nav-h); }

/* Focus ring for cards that use stretched-link */
.card .stretched-link:focus-visible{
  outline: 2px solid var(--bs-primary);
  outline-offset: 2px;
  border-radius: var(--bs-border-radius);
}

@media (prefers-reduced-motion: reduce){
  .event-card,
  .card-click,
  .nav-underline .nav-link::after{
    transition: none !important;
  }
}
